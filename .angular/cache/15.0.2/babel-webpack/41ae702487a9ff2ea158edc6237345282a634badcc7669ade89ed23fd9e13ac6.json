{"ast":null,"code":"import { SocialUser } from '@abacritt/angularx-social-login';\nimport { MapInfoWindow } from '@angular/google-maps';\nimport { ViewEventComponent } from '../view-event/view-event.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/google-maps\";\nfunction MapComponent_map_marker_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"map-marker\", 2, 3);\n    i0.ɵɵlistener(\"mapClick\", function MapComponent_map_marker_2_Template_map_marker_mapClick_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const markerPosition_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.openInfoWindow(markerPosition_r1));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const markerPosition_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"position\", markerPosition_r1.coordinates)(\"title\", markerPosition_r1.title)(\"icon\", ctx_r0.svgMarker)(\"options\", ctx_r0.markerOptions);\n  }\n}\nexport class MapComponent {\n  constructor(dialog) {\n    this.dialog = dialog;\n    this.event_list = [];\n    this.user = new SocialUser();\n    this.center = {\n      lat: 39.679884456322554,\n      lng: -75.75457476111104\n    };\n    this.zoom = 16;\n    this.markerOptions = {\n      draggable: false,\n      clickable: true\n    };\n    this.points = [{\n      lat: 39.679884456322554,\n      lng: -75.75457476111104\n    }];\n    this.svgMarker = {\n      path: \"M10.453 14.016l6.563-6.609-1.406-1.406-5.156 5.203-2.063-2.109-1.406 1.406zM12 2.016q2.906 0 4.945 2.039t2.039 4.945q0 1.453-0.727 3.328t-1.758 3.516-2.039 3.070-1.711 2.273l-0.75 0.797q-0.281-0.328-0.75-0.867t-1.688-2.156-2.133-3.141-1.664-3.445-0.75-3.375q0-2.906 2.039-4.945t4.945-2.039z\",\n      fillColor: \"blue\",\n      fillOpacity: 0.8,\n      strokeWeight: 0,\n      rotation: 0,\n      scale: 2,\n      anchor: new google.maps.Point(15, 30)\n    };\n  }\n  ngOnInit() {}\n  moveMap(event) {\n    if (event.latLng) this.center = event.latLng.toJSON();\n  }\n  addMarker(event) {\n    if (event.latLng) this.points.push(event.latLng.toJSON());\n  }\n  onRightClick($event) {\n    console.log(\"right click\");\n  }\n  displayInfo(marker) {\n    console.log(marker.getTitle());\n  }\n  openInfoWindow(event) {\n    this.event = event;\n    this.openEvent(this.event);\n  }\n  openEvent(event) {\n    console.log(event);\n    const dialogRef = this.dialog.open(ViewEventComponent, {\n      width: '40%',\n      height: '44vh',\n      data: {\n        event: event,\n        user: this.user\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      result = result;\n    });\n  }\n  static #_ = this.ɵfac = function MapComponent_Factory(t) {\n    return new (t || MapComponent)(i0.ɵɵdirectiveInject(i1.MatDialog));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MapComponent,\n    selectors: [[\"app-map\"]],\n    viewQuery: function MapComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MapInfoWindow, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.infoWindow = _t.first);\n      }\n    },\n    inputs: {\n      event_list: \"event_list\",\n      user: \"user\"\n    },\n    decls: 3,\n    vars: 3,\n    consts: [[\"height\", \"90vh\", \"width\", \"100%\", 3, \"center\", \"zoom\", \"mapClick\", \"contextmenu\"], [3, \"position\", \"title\", \"icon\", \"options\", \"mapClick\", 4, \"ngFor\", \"ngForOf\"], [3, \"position\", \"title\", \"icon\", \"options\", \"mapClick\"], [\"marker\", \"mapMarker\"]],\n    template: function MapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"google-map\", 0);\n        i0.ɵɵlistener(\"mapClick\", function MapComponent_Template_google_map_mapClick_1_listener($event) {\n          return ctx.addMarker($event);\n        })(\"contextmenu\", function MapComponent_Template_google_map_contextmenu_1_listener($event) {\n          return ctx.onRightClick($event);\n        });\n        i0.ɵɵtemplate(2, MapComponent_map_marker_2_Template, 2, 4, \"map-marker\", 1);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"center\", ctx.center)(\"zoom\", ctx.zoom);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.event_list);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.GoogleMap, i3.MapMarker],\n    styles: [\"#gfg[_ngcontent-%COMP%]{margin-left:100px;margin-top:150px}\"]\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}